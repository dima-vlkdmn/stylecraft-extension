(()=>{"use strict";var e={31447:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenu=void 0,t.ContextMenu=class{static create(e,t,n=["all"]){chrome.contextMenus.create({id:e,title:t,contexts:n})}static onClick(e,t){chrome.contextMenus.onClicked.addListener(((n,o)=>{n.menuItemId===e&&t(n,o)}))}}},59698:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Runtime=void 0,t.Runtime=class{static sendMessage(e){return n(this,void 0,void 0,(function*(){return new Promise((t=>{chrome.runtime.sendMessage(e,t)}))}))}static subscribeToMessages(e){chrome.runtime.onMessage.addListener(e)}static unsubscribeFromMessages(e){chrome.runtime.onMessage.removeListener(e)}static subscribeToExternalMessages(e){chrome.runtime.onMessageExternal.addListener(e)}static unsubscribeFromExternalMessages(e){chrome.runtime.onMessageExternal.removeListener(e)}static getManifest(){return n(this,void 0,void 0,(function*(){return chrome.runtime.getManifest()}))}}},96270:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SidePanel=void 0,t.SidePanel=class{static open(e){chrome.sidePanel.open({tabId:e})}static setOptions(e){chrome.sidePanel.setOptions(e)}}},32906:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Tabs=void 0;class o{static getAll(){return n(this,void 0,void 0,(function*(){return new Promise((e=>{chrome.tabs.query({},(t=>{e(t)}))}))}))}static getCurrent(){return n(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{chrome.tabs.getCurrent((n=>{if(!n)return t(new Error("No current tab context"));e(n)}))}))}))}static getActive(){return n(this,void 0,void 0,(function*(){return new Promise((e=>{chrome.tabs.query({active:!0,currentWindow:!0},(t=>{e(t[0])}))}))}))}static sendMessageToTab(e,t){return n(this,void 0,void 0,(function*(){return new Promise((n=>{chrome.tabs.sendMessage(e,t,n)}))}))}static sendMessageToActiveTab(e){return n(this,void 0,void 0,(function*(){const t=yield o.getActive();if(!t.id)throw new Error("No active tab found");return o.sendMessageToTab(t.id,e)}))}static sendMessageToAllTabs(e){return n(this,void 0,void 0,(function*(){const t=yield o.getAll();return Promise.all(t.map((t=>{if(!t.id)throw new Error("No tab id found");return o.sendMessageToTab(t.id,e)})))}))}}t.Tabs=o},90263:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasePulse=void 0,t.BasePulse=class{constructor(e,t={}){this.eventCategory=e,this.eventActions=Object.assign({},t)}setEvents(e){this.eventActions=Object.assign({},e)}processMessage(e){if(e.category!==this.eventCategory)return null;const t=this.eventActions[e.action];return t?t.call(this,e.payload):null}sendMessage(e,t){throw new Error("sendMessage must be implemented in a subclass")}}},14989:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalPulse=void 0;const r=n(32906),i=n(59698),s=n(90263);class a extends s.BasePulse{constructor(e,t={}){super(e,t),this.startListening()}setEvents(e){this.eventActions=e}sendMessage(e,t,n){return o(this,void 0,void 0,(function*(){const o={category:this.eventCategory,action:e,payload:t};return void 0!==n?r.Tabs.sendMessageToTab(n,o):r.Tabs.sendMessageToAllTabs(o)}))}startListening(){i.Runtime.subscribeToExternalMessages(((e,t,n)=>{const o=this.processMessage(e);null!==o&&n(o)}))}}t.ExternalPulse=a},41485:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalPulse=void 0;const r=n(32906),i=n(59698),s=n(90263);class a extends s.BasePulse{constructor(e,t){super(e,{}),i.Runtime.subscribeToMessages(((n,o,r)=>{if(n.category!==e)return;const i=t[n.action];if(!i)return;const s=i(n.payload,o,r,n);return!0!==s?s instanceof Promise?(s.then((e=>{void 0!==e&&r(e)})),!0):(void 0!==s&&r(s),!1):void 0}))}sendMessage(e){return o(this,arguments,void 0,(function*(e,t={},n){const o={category:this.eventCategory,action:e,payload:t};return null!=n?r.Tabs.sendMessageToTab(n,o):r.Tabs.sendMessageToAllTabs(o)}))}}t.GlobalPulse=a},55748:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalPulse=t.GlobalPulse=t.LocalPulse=void 0;const o=n(16691);Object.defineProperty(t,"LocalPulse",{enumerable:!0,get:function(){return o.LocalPulse}});const r=n(41485);Object.defineProperty(t,"GlobalPulse",{enumerable:!0,get:function(){return r.GlobalPulse}});const i=n(14989);Object.defineProperty(t,"ExternalPulse",{enumerable:!0,get:function(){return i.ExternalPulse}})},16691:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalPulse=void 0;const r=n(59698),i=n(90263);class s extends i.BasePulse{constructor(e,t={}){super(e,{}),this.setEvents(t),this.startListening()}sendMessage(e){return o(this,arguments,void 0,(function*(e,t={}){const n={category:this.eventCategory,action:e,payload:t};return r.Runtime.sendMessage(n)}))}startListening(){r.Runtime.subscribeToMessages(((e,t,n)=>{if(e.category!==this.eventCategory)return!1;const o=this.eventActions[e.action];if(!o)return!1;const r=o(e.payload,t,n);return!0===r||(r instanceof Promise?(r.then((e=>{void 0!==e&&n(e)})),!0):(void 0!==r&&n(r),!1))}))}}t.LocalPulse=s},82149:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDocument=function(e){return chrome.offscreen&&"function"==typeof chrome.offscreen.createDocument?chrome.offscreen.createDocument(e):Promise.reject(new Error("chrome.offscreen.createDocument is not available"))},t.hasDocument=function(){return chrome.offscreen&&"function"==typeof chrome.offscreen.hasDocument?chrome.offscreen.hasDocument():Promise.reject(new Error("chrome.offscreen.hasDocument is not available"))},t.closeDocument=function(){return chrome.offscreen&&"function"==typeof chrome.offscreen.closeDocument?chrome.offscreen.closeDocument():Promise.reject(new Error("chrome.offscreen.closeDocument is not available"))}},74545:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundPage=void 0,t.ensureOffscreenDocument=f;const i=n(32906),s=n(55748),a=n(10431),c=n(31447),l=n(96270),u=n(83852),d=n(82149);function f(){return o(this,void 0,void 0,(function*(){(yield(0,d.hasDocument)())||(yield(0,d.createDocument)({url:"offscreen/offscreen.html",reasons:["DISPLAY_MEDIA"],justification:"GIF recording"}))}))}function g(e,t,n,r){return o(this,void 0,void 0,(function*(){return console.log(`[Background] forward ${t}.${n} â†’ tab ${e}`,r),i.Tabs.sendMessageToTab(e,{category:t,action:n,payload:r})}))}new s.GlobalPulse("FontService",{scanFonts(e,t,n){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][FontService] scanFonts for tab",t),g(t,"FontService","scanFonts",{})}))},clearFonts(e,t,n){const{tabId:o}=e;if(!o)throw new Error("Missing tabId");return console.log("[Background][FontService] clearFonts for tab",o),g(o,"FontService","clearFonts",{}),null},loadGoogleFonts(e,t,n){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][FontService] loadGoogleFonts for tab",t),g(t,"FontService","loadGoogleFonts",{})}))},getAvailableGoogleFonts(e,t,n){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][FontService] getAvailableGoogleFonts for tab",t),g(t,"FontService","getAvailableGoogleFonts",{})}))},initLocalFontLoader(e,t,n){const{tabId:o}=e;if(!o)throw new Error("Missing tabId");return console.log("[Background][FontService] initLocalFontLoader for tab",o),g(o,"FontService","initLocalFontLoader",{}),null},getLocalFonts(e,t,n){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][FontService] getLocalFonts for tab",t),g(t,"FontService","getLocalFonts",{})}))},uploadLocalFonts(e,t,n){return o(this,void 0,void 0,(function*(){const{tabId:t,files:n}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][FontService] uploadLocalFonts for tab",t,n),g(t,"FontService","uploadLocalFonts",{files:n})}))},captureSelection(e,t,n){const{tabId:o}=e;if(!o)throw new Error("Missing tabId");return console.log("[Background][FontService] captureSelection for tab",o),g(o,"FontService","captureSelection",{}),null},applyTextStyle(e,t,n){const o=e,{tabId:i}=o,s=r(o,["tabId"]);if(!i)throw new Error("Missing tabId");return console.log("[Background][FontService] applyTextStyle for tab",i,s),g(i,"FontService","applyTextStyle",s),null},selectElement(e){const{tabId:t,selector:n}=e;return console.log("[Background][FontService] selectElement â†’",n),g(t,"FontService","selectElement",{selector:n})},applyElementStyle(e,t,n){const o=e,{tabId:i}=o,s=r(o,["tabId"]);if(!i)throw new Error("Missing tabId");return console.log("[Background][FontService] applyElementStyle for tab",i,s),g(i,"FontService","applyElementStyle",s)},applyCategoryStyles(e,t,n){return o(this,void 0,void 0,(function*(){const{tabId:t,settings:n}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][FontService] applyCategoryStyles for tab",t,n),g(t,"FontService","applyCategoryStyles",n)}))},annotatePageWithIcons(e,t,n){const{tabId:o}=e;if(!o)throw new Error("Missing tabId");return console.log("[Background][FontService] annotatePageWithIcons for tab",o),g(o,"FontService","annotatePageWithIcons",{}),null}}),new s.GlobalPulse("Palette",{scanPalette(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");console.log("[Background][Palette] scanPalette for tab",t);const n=yield g(t,"Palette","scanPalette",{});return console.log("[Background][Palette] got palette:",n),n}))},clearPalette(e){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][Palette] clearPalette for tab",t),g(t,"Palette","clearPalette",{}),null}}),new s.GlobalPulse("ColorPicker",{captureTab(e){return o(this,void 0,void 0,(function*(){return{dataUrl:yield new Promise(((e,t)=>{chrome.tabs.captureVisibleTab({format:"png"},(n=>{chrome.runtime.lastError||!n?t(chrome.runtime.lastError):e(n)}))}))}}))},pickColor(e){return o(this,void 0,void 0,(function*(){const t=e.tabId;if(!t)throw new Error("Missing tabId");return console.log("[Background][ColorPicker] pickColor â†’ tab",t),g(t,"ColorPicker","pickColor",{})}))},cancelPicking(e){const t=e.tabId;if(!t)throw new Error("Missing tabId");return console.log("[Background][ColorPicker] cancelPicking â†’ tab",t),g(t,"ColorPicker","cancelPicking",{}),null}}),new s.GlobalPulse("PixelPerfect",{activateRuler(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"PixelPerfect","activateRuler",{}),null}))},deactivateRuler(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"PixelPerfect","deactivateRuler",{}),null}))},updateRulerSettings(e){return o(this,void 0,void 0,(function*(){const t=e,{tabId:n}=t,o=r(t,["tabId"]);if(!n)throw new Error("Missing tabId");return yield g(n,"PixelPerfect","updateRulerSettings",o),null}))},clearMeasurements(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"PixelPerfect","clearMeasurements",{}),null}))},activateGrid(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"PixelPerfect","activateGrid",{}),null}))},deactivateGrid(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"PixelPerfect","deactivateGrid",{}),null}))},updateGridSettings(e){return o(this,void 0,void 0,(function*(){const t=e,{tabId:n}=t,o=r(t,["tabId"]);if(!n)throw new Error("Missing tabId");return yield g(n,"PixelPerfect","updateGridSettings",o),null}))},startMaskMode(e){return o(this,void 0,void 0,(function*(){const t=e,{tabId:n}=t,o=r(t,["tabId"]);if(!n)throw new Error("Missing tabId");return yield g(n,"PixelPerfect","startMaskMode",o),null}))},stopMaskMode(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"PixelPerfect","stopMaskMode",{}),null}))},startPointsMode(e){return o(this,void 0,void 0,(function*(){const{tabId:t,pointRadius:n}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"PixelPerfect","startPointsMode",{pointRadius:null!=n?n:4}),null}))},stopPointsMode(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"PixelPerfect","stopPointsMode",{}),null}))},updatePointsSettings(e){return o(this,void 0,void 0,(function*(){const{tabId:t,pointRadius:n}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"PixelPerfect","updatePointsSettings",{pointRadius:null!=n?n:4}),null}))},startShapeMode(e){return o(this,arguments,void 0,(function*({tabId:e,color:t,opacity:n,mode:o,symmetric:r,cornerRadius:i}){return yield g(e,"PixelPerfect","startShapeMode",{color:t,opacity:n,mode:o,symmetric:r,cornerRadius:i}),null}))},updateShapeSettings(e){return o(this,arguments,void 0,(function*({tabId:e,color:t,opacity:n,mode:o,symmetric:r,cornerRadius:i}){return yield g(e,"PixelPerfect","updateShapeSettings",{color:t,opacity:n,mode:o,symmetric:r,cornerRadius:i}),null}))}}),new s.GlobalPulse("Accessibility",{audit(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return yield g(t,"Accessibility","audit",{})}))},highlightCurrentIssues(e){const{tabId:t,issues:n}=e;if(!t)throw new Error("Missing tabId");return g(t,"Accessibility","highlightCurrentIssues",{issues:n}),null},clearIssueHighlights(e){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return g(t,"Accessibility","clearIssueHighlights",{}),null},scrollTo(e){const{tabId:t,index:n}=e;if(!t)throw new Error("Missing tabId");return g(t,"Accessibility","scrollTo",{index:n}),null}}),new s.GlobalPulse("CssSelector",{startSelection(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");console.log("[Background][CssSelector] startSelection for tab",t);const n=yield g(t,"CssSelector","startSelection",{});return console.log("[Background][CssSelector] got selector:",n),{selector:n}}))},stopSelection(e){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][CssSelector] stopSelection for tab",t),g(t,"CssSelector","stopSelection",{}),null},generateSelector(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");console.log("[Background][CssSelector] generateSelector for tab",t);const n=yield g(t,"CssSelector","getSelected",{});return console.log("[Background][CssSelector] got selector:",n),{selector:n}}))},highlightElements(e){return o(this,void 0,void 0,(function*(){const{tabId:t,selector:n}=e;if(!t)throw new Error("Missing tabId");console.log("[Background][CssSelector] highlightElements â†’",n);const o=yield g(t,"CssSelector","highlightElements",{selector:n});return console.log("[Background][CssSelector] highlighted count:",o),o}))},clearHighlights(e){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][CssSelector] clearHighlights for tab",t),g(t,"CssSelector","removeHighlights",{}),null}}),new s.GlobalPulse("SeoAnalyzer",{analyzeSite(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");console.log("[Background][SeoAnalyzer] analyzeSite â†’ tab",t);const n=yield g(t,"SeoAnalyzer","analyzeSite",{});return console.log("[Background][SeoAnalyzer] got result:",n),n}))},clearResult(e){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][SeoAnalyzer] clearResult â†’ tab",t),g(t,"SeoAnalyzer","clearResult",{}),null}}),new s.GlobalPulse("ElementPicker",{startElementSelection(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");console.log("[Background][ElementPicker] startElementSelection â†’ tab",t);const n=yield g(t,"ElementPicker","startSelection",{});return console.log("[Background][ElementPicker] got selection",n),n}))},stopElementSelection(e){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return console.log("[Background][ElementPicker] stopElementSelection â†’ tab",t),g(t,"ElementPicker","stopSelection",{}),null},getSelectedElement(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");console.log("[Background][ElementPicker] getSelectedElement â†’ tab",t);const n=yield g(t,"ElementPicker","getSelectedElement",{});return console.log("[Background][ElementPicker] returning selected element",n),n}))}}),new s.GlobalPulse("Optimize",{audit(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return g(t,"Optimize","audit",{})}))},showOverlays(e){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return g(t,"Optimize","showOverlays",{}),null},clearOverlays(e){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return g(t,"Optimize","clearOverlays",{}),null},scrollTo(e){const{tabId:t,index:n}=e;if(!t)throw new Error("Missing tabId");return g(t,"Optimize","scrollTo",{index:n}),null},compressAll(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return g(t,"Optimize","compressAll",{})}))}}),new s.GlobalPulse("GifRecorder",{start(e){return o(this,void 0,void 0,(function*(){const{tabId:t,fps:n}=e;if(!t)throw new Error("Missing tabId");return yield f(),new Promise(((e,t)=>{chrome.runtime.sendMessage({target:"offscreen",action:"startRecording",data:{fps:n}},(n=>{if(chrome.runtime.lastError)return t(new Error(chrome.runtime.lastError.message));e(n)}))}))}))},pause(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return chrome.runtime.sendMessage({target:"offscreen",action:"pauseRecording"}),null}))},resume(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return chrome.runtime.sendMessage({target:"offscreen",action:"resumeRecording"}),null}))},stop(e){return o(this,void 0,void 0,(function*(){const{tabId:t}=e;if(!t)throw new Error("Missing tabId");return new Promise(((e,t)=>{chrome.runtime.sendMessage({target:"offscreen",action:"stopRecording"},(n=>{if(chrome.runtime.lastError)return t(new Error(chrome.runtime.lastError.message));e(n)}))}))}))}});class h extends a.BaseBackgroundPage{static init(){const e=Object.create(null,{init:{get:()=>super.init}});return o(this,void 0,void 0,(function*(){e.init.call(this),yield f(),c.ContextMenu.create(u.MenuId.OpenToolsPanel,u.MenuName.OpenToolsPanel),chrome.action.onClicked.addListener((e=>{(null==e?void 0:e.id)&&(l.SidePanel.open(e.id),l.SidePanel.setOptions({path:`side-panel.html?tabId=${e.id}`,enabled:!0}))})),c.ContextMenu.onClick(u.MenuId.OpenToolsPanel,((e,t)=>{(null==t?void 0:t.id)&&(l.SidePanel.open(t.id),l.SidePanel.setOptions({path:`side-panel.html?tabId=${t.id}`,enabled:!0}))}))}))}}t.BackgroundPage=h,o(void 0,void 0,void 0,(function*(){yield h.init()}))},83852:(e,t)=>{var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.MenuName=t.MenuId=void 0,function(e){e.OpenToolsPanel="open-tools-panel"}(n||(t.MenuId=n={})),function(e){e.OpenToolsPanel="Open Tools Panel"}(o||(t.MenuName=o={}))},10431:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBackgroundPage=void 0;class n{static init(){this.initMessageListener()}static registerMessenger(e){this.messengers.push(e)}static initMessageListener(){chrome.runtime.onMessage.addListener(((e,t,n)=>{for(const o of this.messengers)if(o.target===e.target){const r=o.handle(e.action,e.payload,t,n);return void 0===r||r}return!1}))}static onInstall(e){chrome.runtime.onInstalled.addListener(e)}static onUninstall(e){chrome.runtime.setUninstallURL(e)}}t.BaseBackgroundPage=n,n.messengers=[]}},t={};!function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(74545)})();